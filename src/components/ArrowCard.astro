---
import CyberCard from "./CyberCard.astro";
import TrafficCard from "./TrafficCard.astro";
import CompetitivePositioningCard from "./CompetitivePositioningCard.astro";
import GithubLogoAnimation from "./GithubLogoAnimation.astro";

const { entry } = Astro.props;
const isProject = entry.collection === "projects";
const hasThumbnail = isProject && entry.data.thumbnail;
const isGrowthInitiative = isProject && entry.data.title === "30x Growth Initiative";
const isTrafficLoss = isProject && entry.data.title === "Traffic Loss Disaster Recovery";
const isCompetitivePositioning = isProject && entry.data.title === "Competitive Positioning";
const isStargaze = isProject && entry.data.title === "Project 'Stargaze'";
---

<a href={`/${entry.collection}/${entry.slug}`} class="group flex flex-col rounded-lg border border-black/15 dark:border-white/20 hover:bg-black/5 dark:hover:bg-white/5 hover:text-black dark:hover:text-white transition-colors duration-300 ease-in-out">
  {hasThumbnail && !isGrowthInitiative && !isTrafficLoss && !isCompetitivePositioning && !isStargaze && (
    <div class="w-full">
      <img 
        src={entry.data.thumbnail} 
        alt={`${entry.data.title} thumbnail`}
        class="w-full h-48 object-cover rounded-t-lg"
      />
    </div>
  )}
  {isGrowthInitiative && (
    <div class="w-full h-48">
      <CyberCard />
    </div>
  )}
  {isTrafficLoss && (
    <div class="w-full h-48">
      <TrafficCard />
    </div>
  )}
  {isCompetitivePositioning && (
    <div class="w-full h-48">
      <CompetitivePositioningCard />
    </div>
  )}
  {isStargaze && (
    <div class="w-full h-48">
      <GithubLogoAnimation />
    </div>
  )}
  <div class="flex flex-col p-4">
    <div class="font-semibold mb-2">
      {entry.data.title}
    </div>
    <div class="flex justify-between items-end gap-4">
      <div class="text-sm text-gray-600 dark:text-gray-300 flex-1">
        {entry.data.description}
      </div>
      <svg 
        xmlns="http://www.w3.org/2000/svg" 
        viewBox="0 0 24 24"
        class="size-5 stroke-2 fill-none stroke-current flex-shrink-0">
        <line x1="5" y1="12" x2="19" y2="12" class="translate-x-3 group-hover:translate-x-0 scale-x-0 group-hover:scale-x-100 transition-transform duration-300 ease-in-out" />
        <polyline points="12 5 19 12 12 19" class="-translate-x-1 group-hover:translate-x-0 transition-transform duration-300 ease-in-out" />
      </svg>
    </div>
  </div>
</a>